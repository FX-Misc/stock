# エリオット波動を捉える

[ソース](../elliott)

## 定義
[参考](https://www.gaitameonline.com/academy_chart13.jsp)    
[参考２](http://www.geocities.jp/site_click/elliot.html)
- 第1、3、5波の上昇で第3波が一番短くなることはない。
- 第1波の上昇を完全に打ち消すような第2波の下落はない。
- 第4波の下落が第1波の波の頂点を下回ることはない。
- 頂点の高さ、1波<3波<5波
- 頂点の高さ、2波<4波
- 頂点の高さ、5波>7波
- 頂点の高さ、6波>8波

## 計算
#### 方法１
zigzagライブラリによる頂点抽出。    

#### 方法２
従来のpeakbottomによる頂点抽出

#### 条件
zigzagパラメタ:0.01-0.2    
計算期間: 2001-01-01 - 2015-12-31    
銘柄: 全銘柄    

#### 実行
```
python elliott.py    # 方式１
python elliottPB.py  # 方式２
```
#### 結果
パラメタとデータ数
```
mysql> select pb_term,ashi,count(*) from elliottPB group by ashi,pb_term;
+---------+------+----------+
| pb_term | ashi | count(*) |
+---------+------+----------+
|       5 | d    |     6224 |
|      10 | d    |     3058 |
|      15 | d    |     1965 |
|      20 | d    |     1392 |
|      25 | d    |     1093 |
|      30 | d    |      920 |
|      35 | d    |      746 |
|      40 | d    |      618 |
|      45 | d    |      561 |
|      50 | d    |      497 |
|      55 | d    |      461 |
|      60 | d    |      379 |
|      65 | d    |      321 |
|      70 | d    |      295 |
|      75 | d    |      242 |
|      80 | d    |      195 |
|      85 | d    |      176 |
|      90 | d    |      135 |
|      95 | d    |      114 |
|       5 | m    |      238 |
|      10 | m    |       15 |
|      15 | m    |        1 |
|       5 | w    |     1353 |
|      10 | w    |      768 |
|      15 | w    |      569 |
|      20 | w    |      404 |
|      25 | w    |      191 |
|      30 | w    |       95 |
|      35 | w    |       53 |
|      40 | w    |       27 |
|      45 | w    |       17 |
|      50 | w    |       10 |
|      55 | w    |        4 |
|      60 | w    |        3 |
|      65 | w    |        1 |
+---------+------+----------+
35 rows in set (0.03 sec)

mysql> select zigzag,ashi,count(*) from elliott group by ashi,zigzag;
+--------+------+----------+
| zigzag | ashi | count(*) |
+--------+------+----------+
|   0.01 | d    |    18684 |
|   0.02 | d    |    13019 |
|   0.03 | d    |     9629 |
|   0.04 | d    |     7414 |
|   0.05 | d    |     6089 |
|   0.06 | d    |     4931 |
|   0.07 | d    |     4132 |
|   0.08 | d    |     3396 |
|   0.09 | d    |     2866 |
|    0.1 | d    |     2523 |
|   0.11 | d    |     2111 |
|   0.12 | d    |     1755 |
|   0.13 | d    |     1531 |
|   0.14 | d    |     1348 |
|   0.15 | d    |     1152 |
|   0.16 | d    |     1020 |
|   0.17 | d    |      896 |
|   0.18 | d    |      800 |
|   0.19 | d    |      681 |
|    0.2 | d    |      598 |
|   0.01 | m    |     1663 |
|   0.02 | m    |     1413 |
|   0.03 | m    |     1301 |
|   0.04 | m    |     1194 |
|   0.05 | m    |     1146 |
|   0.06 | m    |     1113 |
|   0.07 | m    |     1049 |
|   0.08 | m    |      980 |
|   0.09 | m    |      925 |
|    0.1 | m    |      847 |
|   0.11 | m    |      777 |
|   0.12 | m    |      695 |
|   0.13 | m    |      619 |
|   0.14 | m    |      549 |
|   0.15 | m    |      498 |
|   0.16 | m    |      438 |
|   0.17 | m    |      380 |
|   0.18 | m    |      329 |
|   0.19 | m    |      283 |
|    0.2 | m    |      248 |
|   0.01 | w    |     7197 |
|   0.02 | w    |     5897 |
|   0.03 | w    |     4758 |
|   0.04 | w    |     4032 |
|   0.05 | w    |     3402 |
|   0.06 | w    |     2949 |
|   0.07 | w    |     2471 |
|   0.08 | w    |     2174 |
|   0.09 | w    |     1866 |
|    0.1 | w    |     1673 |
|   0.11 | w    |     1489 |
|   0.12 | w    |     1360 |
|   0.13 | w    |     1269 |
|   0.14 | w    |     1146 |
|   0.15 | w    |     1033 |
|   0.16 | w    |      950 |
|   0.17 | w    |      855 |
|   0.18 | w    |      798 |
|   0.19 | w    |      688 |
|    0.2 | w    |      617 |
+--------+------+----------+
60 rows in set (0.22 sec)
```
PBは数少ない。

## 検証
エリオット波動完成したものの形状を検証

#### フィボナッチ級数の適合率をチェック
zigzag計算のみで検証。
```
elliott_analyze.R
```

[検証結果](elliott1.md)

#### 学習
zigzagのパラメタ
１、２、３波、A、B波の定義パラメタ　フィボナッチ級数
